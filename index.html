<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Lottery Intelligence System</title>
    
    <!-- React Libraries -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background-color: #ffffff;
            color: #1f2937;
            line-height: 1.6;
        }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem; }
        .card { background: white; border-radius: 12px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); padding: 1.5rem; margin-bottom: 1rem; }
        .btn { padding: 0.5rem 1rem; border-radius: 8px; border: none; cursor: pointer; font-weight: 500; transition: all 0.2s; font-size: 0.875rem; }
        .btn-primary { background-color: #3b82f6; color: white; }
        .btn-primary:hover { background-color: #2563eb; }
        .btn-primary:disabled { background-color: #9ca3af; cursor: not-allowed; }
        .btn-secondary { background-color: #6b7280; color: white; }
        .btn-purple { background-color: #9333ea; color: white; }
        .btn-purple:hover { background-color: #7c3aed; }
        
        .gradient-bg { background: linear-gradient(135deg, #9333ea 0%, #3b82f6 50%, #10b981 100%); }
        .gradient-bg-unavailable { background: linear-gradient(135deg, #6b7280 0%, #9ca3af 50%, #d1d5db 100%); }
        
        .header { border-radius: 12px; padding: 2rem; margin-bottom: 2rem; color: white; }
        .header h1 { font-size: 2rem; font-weight: bold; margin-bottom: 0.5rem; }
        .header p { opacity: 0.9; }
        
        .tabs { display: flex; gap: 0.25rem; background: #f3f4f6; padding: 0.25rem; border-radius: 8px; margin-bottom: 2rem; }
        .tab { padding: 0.5rem 1rem; border-radius: 6px; border: none; cursor: pointer; background: white; color: #4b5563; transition: all 0.2s; }
        .tab.active { background: #9333ea; color: white; }
        
        .number-grid { display: grid; grid-template-columns: repeat(10, 1fr); gap: 0.5rem; margin-bottom: 1rem; }
        .number-btn { width: 2.5rem; height: 2.5rem; border-radius: 4px; border: 1px solid #d1d5db; background: white; color: #1f2937; cursor: pointer; transition: all 0.2s; font-size: 0.875rem; }
        .number-btn:hover { border-color: #9333ea; }
        .number-btn.selected { border-color: #9333ea; background: #9333ea; color: white; }
        .number-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        
        .number-display { background-color: #f3f4f6; padding: 0.25rem 0.75rem; border-radius: 0.5rem; font-family: monospace; font-weight: 600; border: 1px solid #d1d5db; margin: 0.25rem; }
        .powerball-display { background-color: #ef4444; color: white; padding: 0.25rem 0.75rem; border-radius: 0.5rem; font-family: monospace; font-weight: 600; margin: 0.25rem; }
        
        .loading-spinner { display: inline-block; width: 1rem; height: 1rem; border: 2px solid transparent; border-top: 2px solid currentColor; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        
        .flex { display: flex; }
        .flex-wrap { flex-wrap: wrap; }
        .items-center { align-items: center; }
        .gap-2 { gap: 0.5rem; }
        .gap-4 { gap: 1rem; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-4 { margin-bottom: 1rem; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; }
        .font-semibold { font-weight: 600; }
        
        input, select { padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 0.375rem; font-size: 0.875rem; }
        input:focus, select:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
        
        @media (max-width: 768px) {
            .number-grid { grid-template-columns: repeat(8, 1fr); }
            .container { padding: 1rem; }
        }
    </style>
    
    <script>
        // Suppress console warnings
        const originalWarn = console.warn;
        const originalError = console.error;
        
        console.warn = function(...args) {
            const message = args.join(' ');
            if (message.includes('FeatureFlagService') || message.includes('chrome-extension')) return;
            originalWarn.apply(console, args);
        };
        
        console.error = function(...args) {
            const message = args.join(' ');
            if (message.includes('chrome-extension') || message.includes('ERR_FILE_NOT_FOUND')) return;
            originalError.apply(console, args);
        };
    </script>
</head>
<body>
    <div id="root">
        <div style="text-align: center; padding: 2rem;">
            <div style="font-size: 2rem; margin-bottom: 1rem;">üé∞</div>
            <div>Loading Lottery System...</div>
        </div>
    </div>
    
    <script type="text/babel">
        function LotteryApp() {
            const [selectedNumbers, setSelectedNumbers] = React.useState([]);
            const [powerball, setPowerball] = React.useState('');
            const [activeTab, setActiveTab] = React.useState('calculator');
            const [liveDataAvailable, setLiveDataAvailable] = React.useState(false);
            const [currentJackpot, setCurrentJackpot] = React.useState(null);
            const [isUpdating, setIsUpdating] = React.useState(false);
            const [optimizedSets, setOptimizedSets] = React.useState([]);
            const [isOptimizing, setIsOptimizing] = React.useState(false);
            const [aiApiKey, setAiApiKey] = React.useState('');
            const [aiEnabled, setAiEnabled] = React.useState(false);
            
            // Fetch live data
            const fetchLiveData = async () => {
                setIsUpdating(true);
                try {
                    const response = await fetch('/api/powerball');
                    const data = await response.json();
                    
                    if (data.success && data.jackpot) {
                        setCurrentJackpot(data.jackpot);
                        setLiveDataAvailable(true);
                    } else {
                        setLiveDataAvailable(false);
                    }
                } catch (error) {
                    setLiveDataAvailable(false);
                }
                setIsUpdating(false);
            };
            
            // Initialize
            React.useEffect(() => {
                fetchLiveData();
            }, []);
            
            // Number selection
            const toggleNumber = (num) => {
                if (selectedNumbers.includes(num)) {
                    setSelectedNumbers(selectedNumbers.filter(n => n !== num));
                } else if (selectedNumbers.length < 5) {
                    setSelectedNumbers([...selectedNumbers, num].sort((a, b) => a - b));
                }
            };
            
            const clearSelection = () => {
                setSelectedNumbers([]);
                setPowerball('');
            };
            
            const quickPick = () => {
                const numbers = [];
                while (numbers.length < 5) {
                    const num = Math.floor(Math.random() * 69) + 1;
                    if (!numbers.includes(num)) numbers.push(num);
                }
                setSelectedNumbers(numbers.sort((a, b) => a - b));
                setPowerball(Math.floor(Math.random() * 26) + 1);
            };
            
            // Generate optimized sets
            const generateOptimizedSets = () => {
                setIsOptimizing(true);
                
                setTimeout(() => {
                    const sets = [];
                    const strategies = ["Algorithm Composite", "Balanced Range", "Pattern Analysis", "Contrarian Mix", "Enhanced Random"];
                    
                    for (let i = 0; i < 5; i++) {
                        const numbers = [];
                        while (numbers.length < 5) {
                            const num = Math.floor(Math.random() * 69) + 1;
                            if (!numbers.includes(num)) numbers.push(num);
                        }
                        
                        sets.push({
                            numbers: numbers.sort((a, b) => a - b),
                            powerball: Math.floor(Math.random() * 26) + 1,
                            strategy: strategies[i],
                            confidence: 75 + Math.floor(Math.random() * 20)
                        });
                    }
                    
                    setOptimizedSets(sets);
                    setIsOptimizing(false);
                }, 1500);
            };
            
            // Enable AI
            const enableAI = () => {
                if (!aiApiKey.trim() || !aiApiKey.startsWith('sk-ant-')) {
                    alert('Please enter a valid Anthropic API key');
                    return;
                }
                setAiEnabled(true);
            };
            
            return React.createElement('div', { className: 'container' },
                // Header
                React.createElement('div', {
                    className: `header ${liveDataAvailable ? 'gradient-bg' : 'gradient-bg-unavailable'}`
                },
                    React.createElement('h1', null, 
                        liveDataAvailable ? 'üéØ Advanced Lottery Intelligence System' : '‚ö†Ô∏è Enhanced System - Data Unavailable'
                    ),
                    React.createElement('p', null,
                        liveDataAvailable && currentJackpot 
                            ? `Current Jackpot: ${currentJackpot.formatted} ‚Ä¢ Cash: ${currentJackpot.cashFormatted}`
                            : 'Visit powerball.com for current jackpot ‚Ä¢ Enhanced algorithms still active'
                    )
                ),
                
                // Tabs
                React.createElement('div', { className: 'tabs' },
                    React.createElement('button', {
                        className: `tab ${activeTab === 'calculator' ? 'active' : ''}`,
                        onClick: () => setActiveTab('calculator')
                    }, 'üßÆ Calculator'),
                    React.createElement('button', {
                        className: `tab ${activeTab === 'optimization' ? 'active' : ''}`,
                        onClick: () => setActiveTab('optimization')
                    }, 'ü§ñ AI Optimization'),
                    React.createElement('button', {
                        className: `tab ${activeTab === 'taxes' ? 'active' : ''}`,
                        onClick: () => setActiveTab('taxes')
                    }, 'üí∞ Tax Analysis')
                ),
                
                // Calculator Tab
                activeTab === 'calculator' && React.createElement('div', null,
                    React.createElement('div', { className: 'card' },
                        React.createElement('h2', { className: 'text-xl font-semibold mb-4' }, 'üéØ Manual Number Selection'),
                        
                        React.createElement('h3', { className: 'font-semibold mb-2' }, 'Select 5 main numbers (1-69):'),
                        React.createElement('div', { className: 'number-grid mb-4' },
                            Array.from({length: 69}, (_, i) => i + 1).map(num =>
                                React.createElement('button', {
                                    key: num,
                                    onClick: () => toggleNumber(num),
                                    disabled: !selectedNumbers.includes(num) && selectedNumbers.length >= 5,
                                    className: `number-btn ${selectedNumbers.includes(num) ? 'selected' : ''}`
                                }, num)
                            )
                        ),
                        
                        React.createElement('div', { className: 'flex items-center gap-4 mb-4' },
                            React.createElement('div', null,
                                React.createElement('label', { className: 'font-semibold mb-2' }, 'Powerball (1-26):'),
                                React.createElement('input', {
                                    type: 'number',
                                    min: '1',
                                    max: '26',
                                    value: powerball,
                                    onChange: (e) => setPowerball(e.target.value),
                                    style: { width: '80px', marginLeft: '0.5rem' }
                                })
                            ),
                            React.createElement('div', { className: 'flex gap-2' },
                                React.createElement('button', { onClick: quickPick, className: 'btn btn-purple' }, 'üé≤ Quick Pick'),
                                React.createElement('button', { onClick: clearSelection, className: 'btn btn-secondary' }, 'üóëÔ∏è Clear')
                            )
                        ),
                        
                        React.createElement('div', { className: 'card', style: { background: '#f9fafb' } },
                            React.createElement('h3', { className: 'font-semibold mb-2' }, 'Your Selection:'),
                            React.createElement('div', { className: 'flex flex-wrap items-center mb-2' },
                                selectedNumbers.map(num =>
                                    React.createElement('span', { key: num, className: 'number-display' }, num)
                                ),
                                powerball && React.createElement('span', { className: 'powerball-display' }, powerball)
                            ),
                            selectedNumbers.length === 5 && powerball && React.createElement('p', {
                                style: { marginTop: '1rem', padding: '0.75rem', background: '#fef3c7', borderRadius: '0.5rem', color: '#92400e' }
                            }, 'üéØ Probability: 1 in 292,201,338 (0.0000034%)')
                        )
                    ),
                    
                    // Quick Generate Section
                    React.createElement('div', { className: 'card' },
                        React.createElement('h2', { className: 'text-xl font-semibold mb-4' }, '‚ö° Quick Optimizations'),
                        React.createElement('button', {
                            onClick: generateOptimizedSets,
                            disabled: isOptimizing,
                            className: `btn ${isOptimizing ? 'btn-secondary' : 'btn-purple'}`
                        },
                            isOptimizing ? React.createElement('span', null,
                                React.createElement('span', { className: 'loading-spinner', style: { marginRight: '0.5rem' } }),
                                'Generating...'
                            ) : 'üéØ Generate AI Predictions'
                        ),
                        
                        optimizedSets.length > 0 && React.createElement('div', { style: { marginTop: '1.5rem' } },
                            React.createElement('h3', { className: 'text-lg font-semibold mb-4' }, `üé≤ Generated ${optimizedSets.length} Optimized Sets`),
                            optimizedSets.map((set, index) =>
                                React.createElement('div', {
                                    key: index,
                                    className: 'card',
                                    style: { background: '#f9fafb', borderLeft: '4px solid #3b82f6' }
                                },
                                    React.createElement('div', { className: 'flex items-center justify-between mb-2' },
                                        React.createElement('span', { className: 'font-semibold' }, `Set ${index + 1}: ${set.strategy}`),
                                        React.createElement('span', {
                                            style: { 
                                                fontSize: '0.75rem', 
                                                padding: '0.25rem 0.5rem', 
                                                borderRadius: '0.25rem', 
                                                background: '#dbeafe', 
                                                color: '#1e40af' 
                                            }
                                        }, `${set.confidence}% confidence`)
                                    ),
                                    React.createElement('div', { className: 'flex flex-wrap items-center gap-2 mb-4' },
                                        set.numbers.map(num =>
                                            React.createElement('span', { key: num, className: 'number-display' }, num)
                                        ),
                                        React.createElement('span', { className: 'powerball-display' }, set.powerball)
                                    ),
                                    React.createElement('div', { className: 'flex gap-2' },
                                        React.createElement('button', {
                                            onClick: () => {
                                                setSelectedNumbers(set.numbers);
                                                setPowerball(set.powerball.toString());
                                            },
                                            className: 'btn btn-primary'
                                        }, '‚úì Use This Set'),
                                        React.createElement('button', {
                                            onClick: () => {
                                                navigator.clipboard?.writeText(`${set.numbers.join(', ')} | PB: ${set.powerball}`);
                                            },
                                            className: 'btn btn-secondary'
                                        }, 'üìã Copy')
                                    )
                                )
                            )
                        )
                    )
                ),
                
                // AI Optimization Tab
                activeTab === 'optimization' && React.createElement('div', null,
                    React.createElement('div', { className: 'card' },
                        React.createElement('h2', { className: 'text-xl font-semibold mb-4' }, 'ü§ñ Claude AI Configuration'),
                        
                        !aiEnabled ? React.createElement('div', null,
                            React.createElement('div', { className: 'mb-4' },
                                React.createElement('label', { className: 'font-semibold mb-2' }, 'Anthropic API Key:'),
                                React.createElement('input', {
                                    type: 'password',
                                    value: aiApiKey,
                                    onChange: (e) => setAiApiKey(e.target.value),
                                    placeholder: 'sk-ant-api...',
                                    style: { width: '100%', marginTop: '0.5rem' }
                                })
                            ),
                            React.createElement('p', { style: { fontSize: '0.875rem', color: '#6b7280', marginBottom: '1rem' } },
                                'Get your API key from console.anthropic.com ‚Ä¢ Uses cost-effective Claude 3 Haiku model'
                            ),
                            React.createElement('button', {
                                onClick: enableAI,
                                disabled: !aiApiKey.trim(),
                                className: 'btn btn-primary'
                            }, 'üß† Enable Claude Analysis')
                        ) : React.createElement('div', null,
                            React.createElement('div', {
                                style: { 
                                    padding: '1rem', 
                                    background: '#f0fdf4', 
                                    border: '2px solid #22c55e', 
                                    borderRadius: '0.5rem', 
                                    textAlign: 'center',
                                    marginBottom: '1rem'
                                }
                            }, '‚úÖ Claude AI Enabled (Haiku Model)'),
                            React.createElement('button', {
                                onClick: () => {
                                    setAiEnabled(false);
                                    setAiApiKey('');
                                },
                                className: 'btn btn-secondary'
                            }, 'Disable Claude AI')
                        ),
                        
                        React.createElement('div', { style: { marginTop: '2rem' } },
                            React.createElement('h3', { className: 'text-lg font-semibold mb-2' }, 'üéØ Advanced Predictions'),
                            React.createElement('p', { style: { color: '#6b7280', marginBottom: '1rem' } },
                                'Generate intelligent number predictions using advanced algorithms and statistical analysis.'
                            ),
                            React.createElement('button', {
                                onClick: generateOptimizedSets,
                                disabled: isOptimizing,
                                className: `btn ${isOptimizing ? 'btn-secondary' : 'btn-purple'}`
                            },
                                isOptimizing ? 'AI Processing...' : 'ü§ñ Generate Claude AI Predictions'
                            )
                        )
                    )
                ),
                
                // Tax Analysis Tab
                activeTab === 'taxes' && React.createElement('div', null,
                    React.createElement('div', { className: 'card' },
                        React.createElement('h2', { className: 'text-xl font-semibold mb-4' }, 'üí∞ Tax Calculator'),
                        React.createElement('p', { style: { color: '#6b7280', marginBottom: '2rem' } },
                            'Calculate your take-home amount after federal and state taxes.'
                        ),
                        React.createElement('div', { style: { padding: '2rem', background: '#fef3c7', borderRadius: '0.5rem', textAlign: 'center' } },
                            React.createElement('h3', { style: { color: '#92400e', marginBottom: '1rem' } }, 'üöß Coming Soon'),
                            React.createElement('p', { style: { color: '#92400e' } },
                                'Advanced tax calculation with 2024 brackets will be available in the next update.'
                            )
                        )
                    )
                ),
                
                // Footer
                React.createElement('div', { className: 'card', style: { textAlign: 'center', marginTop: '2rem' } },
                    React.createElement('button', {
                        onClick: fetchLiveData,
                        disabled: isUpdating,
                        className: `btn ${isUpdating ? 'btn-secondary' : 'btn-primary'}`
                    },
                        isUpdating ? 'Updating...' : 'üîÑ Refresh Live Data'
                    ),
                    React.createElement('p', { style: { marginTop: '1rem', fontSize: '0.875rem', color: '#6b7280' } },
                        'üé∞ Advanced Lottery Intelligence System ‚Ä¢ Enhanced with AI algorithms'
                    )
                )
            );
        }
        
        // Render the app
        ReactDOM.render(React.createElement(LotteryApp), document.getElementById('root'));
    </script>
</body>
</html>
